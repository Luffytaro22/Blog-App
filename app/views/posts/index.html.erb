<div class="users-container">
	<div id="posts-bar">
		<%= link_to user_path(@user_select), method: :get, class: 'button-posts' do %>
			<i class="fas fa-arrow-left"></i> Back to User
		<% end %>
		<% if @user_select.id == @user.id %>
			<%= link_to new_user_post_path(@user_select), method: :get, class: 'button-posts' do %>
				Create a new post
			<% end %>
		<% end %>
  </div>
	<div class="users">
		<img src="<%= @user_select.photo %>" class="users-photos" />
		<div class="user-container">
			<h2 class="users-name"><%= @user_select.name %></h2>
			<p class="users-posts-counter">Number of posts: <%= @user_select.posts_counter %></p>
		</div>
	</div>
	<div class="posts-container">
		<% @posts.each do |post| %>
			<div class="post-comments">
				<div class="posts">
					<p id="posts-title">
						<%= link_to user_post_path(@user_select, post), method: :get do %>
							<%= post.title %>
						<% end %>
						<% if @user_select.id == @user.id %>
              <%= link_to edit_user_post_path(id: post.id, user_id: post.author_id), method: :get, class: 'button-posts' do %>
                Edit
                <i class="fa-solid fa-pen-to-square"></i>
              <% end %>
            <% end %>
					</p>
					<p><%= post.text.truncate(50) %></p>
					<p>
						<span>Comments: <%= post.comments_counter %></span>
						<span>Likes: <%= post.likes_counter %>
						</span>
					</p>
				</div>
				<div class="posts-comments">
					<% post.recent_comments.each do |comment| %>
						<p>
							<strong><%= User.find(comment.user_id).name %>:</strong>
							<span> <%= comment.text %> </span>
						</p>
					<% end %>
				</div>
			</div>
		<% end %>
	</div>
	<%= link_to user_post_path(@user_select, @posts[0]), method: :get, class: 'button-posts' do %>
		Pagination
	<% end %>
</div>
